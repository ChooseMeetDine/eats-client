<!-- This is the main window for login and register -->
<md-dialog id="continue_dialog" aria-label="Login">
  <md-toolbar>
    <div class="md-toolbar-tools">
      <h2>Hur vill du fortsätta?</h2>
      <span flex></span>
    </div>
  </md-toolbar>
  <md-dialog-content>
            
      
      <!-- First tab wich includes the "login" page with input forms, logos and buttons -->
    <div id="login">
      <md-content id="login_form" class="md-padding">
        <label class="login-register_header">Logga in</label>
        <form name="login" ng-controller="loginUser" ng-submit="loginUser()">
          <md-input-container id="loginemail">
        <!-- Email input -->
            <label>Email</label>
            <md-icon md-svg-src="images/icons/ic_email_24px.svg"></md-icon>
            <input ng-model="email" type="email" name="email" required>
            <div ng-messages="login.email.$error" ng-if="login.email.$dirty">
              <div ng-message="required">Du måste fylla i en E-mail!</div>
            </div>
          </md-input-container> 
        <!-- Password input -->
          <md-input-container>
            <label>Lösenord</label>
            <md-icon md-svg-src="images/icons/lock.svg"></md-icon>
            <input ng-model="password" type="password" name="password" minlength="6" required>
        <!-- Error handling, password requierd or too short -->
            <div ng-messages="login.password.$error" ng-if="login.password.$dirty">
              <div ng-message="required">Du måste fylla i ett Lösenord!</div>
              <div ng-message="minlength">Lösenordet är för kort!</div>
            </div>  
          </md-input-container>
        <!-- Error handling, wrong email or password -->
          <md-button id="login_button" class="md-raised md-primary" type="submit"> Logga in </md-button>
          <p ng-if=loginStatus.error>Felaktigt E-mail eller Lösenord!</p>
          <div ng-controller="continueToPollAs">
            <md-button id="anonymous_button" ng-click="continueAsAnonymous()" class="md-raised md-primary"> Fortsätt som anonym </md-button>
            </div>
        </form>
          
      </md-content>
    </div>


    <!-- Second tab wich includes the "register" page with input forms, logos and buttons. Also a choice to continue as anonymus -->
    <div id="register">
      <md-content id="register_form" class="md-padding">
        <label class="login-register_header">Registrera dig</label>
        <form name="register" ng-controller="addUser" ng-submit="regUser()">
    <!-- Name input -->
          <md-input-container>
            <label>Namn</label>
            <md-icon md-svg-src="images/icons/ic_person_24px.svg"></md-icon>
            <input ng-model="name" type="text" name="name" md-maxlength="20" minlength="2" required>
            <div ng-messages="register.name.$error" ng-if="register.name.$dirty">
              <div ng-message="required">Du måste fylla i ett Namn!</div>
              <div ng-message="md-maxlength">Namnet får max vara 20 bokstäver!</div>
              <div ng-message="minlength">Namnet är för kort!</div>
            </div> 
          </md-input-container>
    <!-- Email input -->
          <md-input-container>
            <label>Email</label>
              
    <!-- Error handling email -->
            <md-icon md-svg-src="images/icons/ic_email_24px.svg"></md-icon>
            <input ng-model="email" type="email" name="email" required>
            <div ng-messages="register.email.$error" ng-if="register.email.$dirty">
              <div ng-message="required">Du måste fylla i en Email!</div>
            </div> 
          </md-input-container>
            <br>
            
    <!-- Password input -->
          <md-input-container>
            <label>Lösenord</label>
            <md-icon md-svg-src="images/icons/lock.svg"></md-icon>
            <input ng-model="password" type="password" name="password" minlength="6" required>
    <!-- Error handling password -->
             <div ng-messages="register.password.$error" ng-if="register.password.$dirty">
              <div ng-message="required">Du måste fylla i ett Lösenord!</div>
              <div ng-message="minlength">Lösenordet är för kort!</div>
            </div>
          </md-input-container>
            <!-- register button -->
            <md-button id="register_button" class="md-raised md-primary" type="submit"> Registrera </md-button>
                <md-button id="cancel_login-register" class="md-raised md-primary" ng-click="cancel()">
                    Avbryt
                </md-button>
          <p ng-if="regStatus.error">Gick inte att registrera användaren.</p>
        </form>
    
      </md-content>
    </div>
  </md-dialog-content>

</md-dialog>